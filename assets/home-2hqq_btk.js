import{a as o,p as e,w as $}from"./chunk-WWGJGFF6-DHT_1g-o.js";function F({show:r,cardCount:u,likedImgSets:n,dislikedImgSets:g,setCardCount:k,onReset:N}){const[p,f]=o.useState(null),[m,x]=o.useState(0),a=p==="liked"?n:p==="disliked"?g:[],w=m===0,b=m===a.length-1,d=()=>{a.length>0&&x(i=>(i+1)%a.length)},j=()=>{a.length>0&&x(i=>(i-1+a.length)%a.length)},h=i=>{f(i),x(0)},v=()=>f(null);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed flex flex-col items-center justify-center bg-white rounded-lg p-6  gap-6 w-80",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"No more cats!"}),e.jsx("p",{className:"text-xl text-gray-800",children:"Here’s the summary"}),e.jsxs("div",{className:"w-full flex justify-around gap-4 text-sm font-semibold text-gray-700",children:[e.jsxs("div",{className:"relative group flex flex-col items-center bg-red-50 rounded-lg p-3 w-28 shadow-sm cursor-pointer",onClick:()=>h("disliked"),children:[e.jsx("div",{className:`absolute -top-8 opacity-0 group-hover:opacity-100 transition\r
             bg-black text-white text-xs px-2 py-1 rounded whitespace-nowrap`,children:"Click me!"}),e.jsx("span",{className:"text-red-500 text-xl font-bold",children:g.length}),e.jsx("img",{src:"/Icons/dislike.png",alt:"Disliked",className:"w-10 h-10 object-contain my-1"}),e.jsx("span",{className:"text-red-600",children:"Disliked"})]}),e.jsxs("div",{className:"relative group flex flex-col items-center bg-green-50 rounded-lg p-3 w-28 shadow-sm cursor-pointer",onClick:()=>h("liked"),children:[e.jsx("div",{className:`absolute -top-8 opacity-0 group-hover:opacity-100 transition\r
             bg-black text-white text-xs px-2 py-1 rounded whitespace-nowrap`,children:"Click me!"}),e.jsx("span",{className:"text-green-600 text-xl font-bold",children:n.length}),e.jsx("img",{src:"/Icons/like.png",alt:"Liked",className:"w-10 h-10 object-contain my-1"}),e.jsx("span",{className:"text-green-600",children:"Liked"})]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[e.jsx("label",{className:"text-gray-700 font-semibold",children:"Select number of cats:"}),e.jsxs("select",{className:"border border-gray-300 rounded-lg p-2 w-40 text-gray-700 cursor-pointer",value:u,onChange:i=>k(Number(i.target.value)),children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:15,children:"15"}),e.jsx("option",{value:20,children:"20"})]})]}),e.jsx("button",{className:"px-4 py-2 w-full bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer font-bold",onClick:N,children:"Try Again"})]}),p&&a.length>0&&e.jsxs("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:[e.jsxs("div",{className:"relative w-96 h-96 flex items-center justify-center",children:[e.jsx("img",{src:a[m],alt:`Image ${m}`,className:"max-w-full max-h-full object-contain rounded-lg"}),e.jsx("button",{onClick:j,disabled:w,className:`absolute left-2 top-1/2 -translate-y-1/2 rounded-full p-2
    ${w?"hover:bg-gray-300/60 cursor-not-allowed":"hover:bg-gray-300/60  cursor-pointer"}`,children:e.jsx("img",{src:"/Icons/previousBtn.png",alt:"Disliked",className:"w-10 h-10 object-contain my-1"})}),e.jsx("button",{onClick:d,disabled:b,className:`absolute right-2 top-1/2 -translate-y-1/2 rounded-full p-2
    ${b?"hover:bg-gray-300/60 cursor-not-allowed":"hover:bg-gray-300/60 cursor-pointer"}`,children:e.jsx("img",{src:"/Icons/nextBtn.png",alt:"Disliked",className:"w-10 h-10 object-contain my-1"})})]}),e.jsx("button",{onClick:v,className:"absolute top-4 right-4 text-black text-5xl font-bold cursor-pointer",children:"×"})]})]})}const P="https://cataas.com/cat?json=true",D=100;function A(){const[r,u]=o.useState(20),[n,g]=o.useState(null),[k,N]=o.useState(!0),[p,f]=o.useState([]),[m,x]=o.useState([]),[a,w]=o.useState(0),[b,d]=o.useState(0),[j,h]=o.useState(!1),[v,i]=o.useState(0),E=n&&a>=n.length,[X,O]=o.useState(!0),C=t=>{console.log(t==="right"?"Liked":"Disliked"),d(0),h(!1),w(s=>s+1)},I=t=>{h(!0),i(t)},R=t=>{t>D?(d(window.innerWidth),setTimeout(()=>C("right"),300),n&&f(s=>[...s,n[a]]),S()):t<-D?(d(-window.innerWidth),setTimeout(()=>C("left"),300),n&&x(s=>[...s,n[a]]),S()):d(0),h(!1)};o.useEffect(()=>{const t=[];(async()=>{for(let l=0;l<r;l++){const y=await(await fetch(P)).json();console.log(`${y.url}`),t.push(`${y.url}`)}await Promise.all(t.map(l=>new Promise((c,y)=>{const L=new Image;L.src=l,L.onload=()=>c()}))),g(t),N(!1)})()},[r]);const T=t=>{N(!0),g(null),w(0),f([]),x([]),u(t)};o.useEffect(()=>{if(!j)return;const t=l=>{const c="touches"in l?l.touches[0].clientX:l.clientX;d(c-v)},s=l=>{const c="changedTouches"in l?l.changedTouches[0].clientX:l.clientX;R(c-v)};return window.addEventListener("mousemove",t),window.addEventListener("mouseup",s),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",s),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",s)}},[j,v]);const S=()=>{const t=new Audio("/Audio/cardFlip.mp3");t.currentTime=0,t.play()};return e.jsx("div",{className:"min-h-screen w-full bg-purple-white center-flex",children:n?E?(console.log("Reached empty stack - END"),e.jsx(F,{show:X,likedImgSets:p,dislikedImgSets:m,cardCount:r,setCardCount:u,onReset:()=>{T(r)}})):e.jsxs("div",{className:"relative w-100 h-170 bg-white rounded-2xl shadow-xl",children:[e.jsxs("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 \r
                bg-black bg-opacity-70 text-white \r
                px-4 py-1 rounded-full text-sm font-semibold shadow-lg`,children:[r-a,"/",r]}),e.jsx("div",{className:"relative w-full h-3/4 overflow-visible",style:{touchAction:"pan-y"},children:n?.slice(a).map((t,s)=>{const l=s===0;return e.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded-2xl shadow-xl bg-white",style:{transform:l?`translateX(${b}px) rotate(${b/20}deg)`:`scale(${1-s*.02}) translateY(${s*8}px)`,zIndex:r-s,cursor:l?"grab":"default",transition:j?"none":"transform 0.3s ease-out"},onMouseDown:c=>l&&I(c.clientX),onTouchStart:c=>l&&I(c.touches[0].clientX),onDragStart:c=>c.preventDefault(),children:e.jsx(z,{img:t})},a+s)})}),e.jsxs("div",{className:"h-1/4 flex",children:[e.jsxs("div",{className:"w-1/2 flex-col center-flex border-r border-gray-200",children:[e.jsx("img",{src:"/Icons/swipe-left.gif",alt:"Swipe Left",className:"w-12 h-15 object-contain"}),e.jsx("span",{className:"text-red-500 font-bold mt-1",children:"Dislike"})]}),e.jsxs("div",{className:"w-1/2 flex-col center-flex",children:[e.jsx("img",{src:"/Icons/swipe-right.gif",alt:"Swipe Right",className:"w-12 h-15 object-contain"}),e.jsx("span",{className:"text-green-500 font-bold mt-1",children:"Like"})]})]})]}):e.jsxs("div",{className:"center-flex  flex-col gap-4",children:[e.jsx("img",{src:"/Icons/oiia-cat.gif",alt:"Loading Cat",className:"w-40 h-40 object-contain"}),e.jsx("div",{className:"text-xl font-bold text-gray-700",children:"Loading Cats...."})]})})}function z({img:r}){const[u,n]=o.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full h-full",children:[e.jsx("img",{src:r,alt:"Cat",className:"w-full h-full object-cover rounded-2xl",draggable:!1}),e.jsx("button",{onClick:()=>n(!0),className:"absolute top-2 right-2 p-2 bg-transparent rounded-full shadow-md hover:bg-[#202020]  cursor-zoom-out ",children:e.jsx("img",{src:"/Icons/fullScreen.png",alt:"Full Screen",className:"w-6 h-6 rounded-full"})})]}),u&&e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:()=>n(!1),children:[e.jsx("img",{src:r,alt:"Full View",className:"max-w-full max-h-full rounded-lg shadow-lg"}),e.jsx("button",{onClick:()=>n(!1),className:"absolute top-5 right-5 text-white text-3xl font-bold",children:"×"})]})]})}function H({}){return[{title:"New React Router App"},{name:"description",content:"Welcome to React Router!"}]}const W=$(function(){return e.jsx(A,{})});export{W as default,H as meta};
